[pytest]
# Test discovery: Look for files starting with 'test_'
python_files = test_*.py
testpaths = .

# Custom markers for organizing tests
# Used in tests/run.py for focused execution
markers =
    live: marks tests that make external network requests (not fully mocked).
    managers: tests in the managers/ directory or related logic.
    models: tests for data model dataclasses.
    ui: tests for rich-based user interface components.
    utils: tests for utility functions (hashing, formatting, etc.).

# Extra command line arguments
addopts = 
    -ra 
    --strict-markers 
    --durations=5 
    --no-header
    --color=yes

[coverage:run]
# Exclude the test runner script from coverage reports
omit = 
    */tests/*
    */__init__.py
    
# Specify the source code directory to measure coverage against
source = .

[coverage:report]
# Show lines that were missed
show_missing = True
# Fail the coverage run if the total is below 80%
fail_under = 80
